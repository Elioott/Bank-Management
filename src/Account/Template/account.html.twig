{% extends 'base-client.html.twig' %}

{% block title %}Transactions{% endblock %}

{% block main %}
  <!-- Onglets (Withdraw, Deposit, Transfer) -->
  <div class="flex justify-center space-x-4">
    <a href="{{ path('withdraw') }}"
       class="bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition">Retrait</a>
    <a href="{{ path('deposit') }}"
       class="bg-green-500 hover:bg-green-700 text-white px-6 py-2 rounded-md transition">Dépôt</a>
    <a href="{{ path('transfer') }}"
       class="bg-yellow-500 hover:bg-yellow-700 text-white px-6 py-2 rounded-md transition">Virement</a>
    <a href="{{ path('account_stats', { accountId: accountId }) }}"
       class="bg-purple-500 hover:bg-purple-700 text-white px-6 py-2 rounded-md transition">Statistiques</a>
  </div>

  <!-- Liste des transactions -->
  <h3 class="text-2xl font-semibold text-gray-800">Historique des Transactions</h3>

  <div class="bg-white shadow-md rounded-lg p-6">
    <ul class="divide-y divide-gray-200">
      {% for transaction in transactions %}
        <li class="py-4 flex justify-between items-center">
          <div>
            <span class="text-gray-500">{{ transaction.dateTime|date('d/m/Y H:i') }}</span>
            <span class="font-semibold ml-2">{{ transaction.type.value }}</span>
          </div>
          <div
              class="text-lg font-bold {% if transaction.amount < 0 %}text-red-500{% else %}text-green-500{% endif %}">
            {{ transaction.amount|number_format(2, ',', ' ') }} €
          </div>
          <span
              class="px-3 py-1 rounded-md text-white text-sm {% if transaction.status.value == 'validée' %}bg-green-500{% else %}bg-gray-500{% endif %}">
                                {{ transaction.status.value }}
                            </span>
        </li>
      {% else %}
        <li class="text-center text-gray-500 py-6">Aucune transaction trouvée.</li>
      {% endfor %}
    </ul>
  </div>

  <!-- Pagination -->
  <div class="flex justify-between items-center mt-6">
    <button class="bg-gray-300 hover:bg-gray-400 px-4 py-2 rounded-md transition" id="prev-page">Précédent
    </button>
    <span id="page-info" class="text-gray-700">Page 1</span>
    <button class="bg-gray-300 hover:bg-gray-400 px-4 py-2 rounded-md transition" id="next-page">Suivant</button>
  </div>

{% endblock %}